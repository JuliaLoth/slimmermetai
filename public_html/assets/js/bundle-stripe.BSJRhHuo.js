import"./bundle-stripe-payment.BqQl3eFl.js";const i={initialized:!1,async init(){if(this.initialized){console.log("Payment systeem is al geïnitialiseerd");return}return console.log("Payment systeem wordt geïnitialiseerd..."),new Promise((e,t)=>{const n=()=>{typeof window.StripePayment<"u"?(console.log("StripePayment gevonden, initialiseren..."),this.initialized=!0,window.StripePayment.init&&window.StripePayment.init(),e()):setTimeout(n,100)};n(),setTimeout(()=>{this.initialized||(console.error("Timeout: StripePayment kon niet worden geladen"),t(new Error("StripePayment timeout")))},5e3)})},async startPayment(e=null){console.log("startPayment aangeroepen...");try{if(this.initialized||(console.log("Payment niet geïnitialiseerd, initialiseren..."),await this.init()),typeof window.StripePayment>"u")throw new Error("StripePayment is niet beschikbaar");if(e)return await window.StripePayment.handleCheckout(e);if(console.log("Geen data opgegeven, starten checkout vanuit winkelwagen..."),window.StripePayment.handleCheckout)return await window.StripePayment.handleCheckout();if(window.StripePayment.startCheckout)return await window.StripePayment.startCheckout();throw new Error("Geen checkout methode gevonden in StripePayment")}catch(t){throw console.error("Fout bij starten betaling:",t),t}}};window.Payment=i;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{i.init().catch(e=>{console.error("Fout bij auto-initialisatie Payment:",e)})}):i.init().catch(e=>{console.error("Fout bij auto-initialisatie Payment:",e)});
