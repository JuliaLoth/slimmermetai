console.log("=== COURSE FILTERS JS LOADED ===");console.log("File loaded at:",new Date().toISOString());console.log("Current URL:",window.location.href);console.log("Document ready state:",document.readyState);console.log("[DEBUG] Course filters module execution started");function p(){console.log("=== COURSE FILTERS DEBUG START ==="),console.log("[DEBUG] initializeCourseFilters function called");const t=document.querySelectorAll(".filter-btn"),e=document.querySelectorAll(".course-card"),l=document.getElementById("results-count"),n=document.getElementById("clear-filters"),s=document.getElementById("no-results"),c=document.getElementById("courses-grid");if(console.log("Course filtering initialized"),console.log("Document ready state:",document.readyState),console.log("Found",e.length,"course cards"),console.log("Found",t.length,"filter buttons"),console.log("Results count element:",l?"found":"NOT FOUND"),console.log("Clear filters button:",n?"found":"NOT FOUND"),e.length===0){console.log("[INFO] No course cards found on this page - course filtering not needed");return}if(t.length===0){console.log("[INFO] No filter buttons found on this page - course filtering not available");return}if(console.log("[DEBUG] About to add CSS styles for filtering"),document.getElementById("course-filter-styles"))console.log("[DEBUG] CSS styles already exist");else{const o=document.createElement("style");o.id="course-filter-styles",o.textContent=`
            .course-card.filtered-hidden {
                opacity: 0 !important;
                pointer-events: none !important;
                transform: scale(0.8) !important;
                transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            }
            .course-card.filtered-visible {
                opacity: 1 !important;
                pointer-events: auto !important;
                transform: scale(1) !important;
                transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            }
        `,document.head.appendChild(o),console.log("[DEBUG] CSS styles added for filtering")}let a={level:"all",type:"all"};console.log("[DEBUG] Active filters initialized:",a),console.log("[DEBUG] Defining clearAllFilters function EARLY");function E(){console.log("Clearing all filters"),a={level:"all",type:"all"},t.forEach(o=>{o.classList.remove("active"),o.dataset.value==="all"&&o.classList.add("active")}),m()}window.clearAllFilters=E,console.log("[DEBUG] clearAllFilters function defined EARLY - both locally and on window"),e.forEach((o,r)=>{var i;console.log(`Course ${r+1}:`,{level:o.dataset.level,type:o.dataset.type,title:(i=o.querySelector("h3"))==null?void 0:i.textContent})}),console.log("[DEBUG] About to attach filter button event listeners"),t.forEach(o=>{o.addEventListener("click",function(){const r=this.dataset.filter,i=this.dataset.value;console.log("Filter clicked:",r,"=",i),a[r]=i,document.querySelectorAll(`[data-filter="${r}"]`).forEach(g=>g.classList.remove("active")),this.classList.add("active"),m()})}),console.log("[DEBUG] Filter button event listeners attached"),n?(n.addEventListener("click",E),console.log("[DEBUG] Clear filters button event listener attached")):console.log("[DEBUG] No clear filters button found");function m(){let o=0;console.log("Applying filters:",a),e.forEach((i,d)=>{var B;const g=i.dataset.level,y=i.dataset.type,S=(B=i.querySelector("h3"))==null?void 0:B.textContent,C=a.level==="all"||g===a.level,D=a.type==="all"||y===a.type,v=C&&D;console.log(`Course ${d+1} (${S}):`,{level:g,type:y,levelMatch:C,typeMatch:D,visible:v});const u=i.querySelector(".add-to-cart-btn");u?console.log(`[FILTER DEBUG] Course ${d+1} add-to-cart button:`,{exists:!0,pointerEvents:getComputedStyle(u).pointerEvents,opacity:getComputedStyle(u).opacity,visibility:getComputedStyle(u).visibility}):console.log(`[FILTER DEBUG] Course ${d+1} has NO add-to-cart button!`),v?(i.classList.remove("filtered-hidden"),i.classList.add("filtered-visible"),o++,console.log(`[FILTER DEBUG] Course ${d+1} set to VISIBLE`)):(i.classList.remove("filtered-visible"),i.classList.add("filtered-hidden"),console.log(`[FILTER DEBUG] Course ${d+1} set to HIDDEN`)),setTimeout(()=>{if(u){const f=getComputedStyle(u);console.log(`[FILTER DEBUG] Course ${d+1} button final styles:`,{pointerEvents:f.pointerEvents,opacity:f.opacity,visibility:f.visibility,display:f.display})}},100)}),console.log("Visible courses:",o),console.log("[CART DEBUG] Course cards na filtering nog steeds in DOM voor cart events"),l&&(l.textContent=`${o} cursus${o!==1?"sen":""} gevonden`);const r=a.level!=="all"||a.type!=="all";n&&(n.style.display=r?"inline-block":"none"),o===0?(s&&(s.style.display="block"),c&&(c.style.display="none")):(s&&(s.style.display="none"),c&&(c.style.display="grid"))}console.log("Running initial filter test..."),m(),console.log("=== COURSE FILTERS DEBUG END ===")}console.log("[DEBUG] About to set up initialization handlers");document.readyState==="loading"?(console.log("[DEBUG] Document still loading, adding DOMContentLoaded listener"),document.addEventListener("DOMContentLoaded",p)):(console.log("[DEBUG] Document already loaded, calling initializeCourseFilters immediately"),p());setTimeout(function(){console.log("[DEBUG] Backup initialization check triggered"),typeof window.clearAllFilters>"u"?(console.log("Backup initialization triggered - clearAllFilters not found"),p()):console.log("clearAllFilters already defined, no backup needed")},1e3);console.log("=== COURSE FILTERS JS FILE END ===");console.log("[DEBUG] Course filters module execution completed");console.log("=== MAIN.JS LOADED ===");console.log("Main.js timestamp:",new Date().toISOString());console.log("[DEBUG] Main.js file execution started");console.log("[DEBUG] CSS imports completed");window.Cart={calculateTotal:function(){const e=JSON.parse(localStorage.getItem("slimmerAICart")||"[]").reduce((l,n)=>l+n.price*n.quantity,0);return console.log("[Cart.calculateTotal] Calculated total:",e),e},getItems:function(){return JSON.parse(localStorage.getItem("slimmerAICart")||"[]")},get items(){return this.getItems()},getTotalWithTax:function(){const t=this.calculateTotal(),e=t*.21;return t+e}};window.showNotification=function(t,e="info"){if(console.log(`[Notification ${e}]:`,t),typeof window.createNotification=="function"){window.createNotification(t,e);return}alert(e==="error"?"Error: "+t:e==="success"?"Success: "+t:"Info: "+t)};document.documentElement.classList.remove("no-js");document.documentElement.classList.add("js");console.log("[DEBUG] Document classes updated");document.addEventListener("DOMContentLoaded",function(){console.log("[main.js] DOMContentLoaded fired."),console.log("[DEBUG] DOMContentLoaded event triggered"),U(),console.log("[DEBUG] About to set up cart event listener"),document.body.addEventListener("click",function(t){if(console.log("[CART DEBUG] Click detected on:",t.target),console.log("[CART DEBUG] Target classes:",t.target.className),console.log("[CART DEBUG] Closest button:",t.target.closest(".add-to-cart-btn")),t.target.matches(".add-to-cart-btn")||t.target.closest(".add-to-cart-btn")){console.log("[DIRECT] Add to cart button clicked!"),t.preventDefault(),t.stopPropagation();const e=t.target.closest(".add-to-cart-btn");console.log("[CART DEBUG] Button found:",e),console.log("[CART DEBUG] Button data attributes:",{id:e.dataset.productId,name:e.dataset.productName,price:e.dataset.productPrice,type:e.dataset.productType,img:e.dataset.productImg});const l={id:e.dataset.productId,name:e.dataset.productName,price:parseFloat(e.dataset.productPrice),type:e.dataset.productType,img:e.dataset.productImg};console.log("[CART DEBUG] Item to add:",l);let n=JSON.parse(localStorage.getItem("slimmerAICart")||"[]");console.log("[CART DEBUG] Current cart:",n);const s=n.find(c=>c.id===l.id);s?(s.quantity+=1,console.log("[CART DEBUG] Updated existing item quantity:",s.quantity)):(n.push({...l,quantity:1}),console.log("[CART DEBUG] Added new item to cart")),localStorage.setItem("slimmerAICart",JSON.stringify(n)),console.log("[CART DEBUG] Saved cart to localStorage:",n),U(),alert(`${l.name} toegevoegd aan winkelwagen!`),console.log("[DIRECT] Item added to cart:",l)}else console.log("[CART DEBUG] Click was not on add-to-cart button")}),console.log("[DEBUG] Cart event listener attached successfully"),setTimeout(()=>{const t=document.querySelectorAll(".add-to-cart-btn");console.log("[CART DEBUG] Found",t.length,"add-to-cart buttons"),t.forEach((e,l)=>{console.log(`[CART DEBUG] Button ${l+1}:`,{element:e,visible:e.offsetParent!==null,disabled:e.disabled,style:e.style.cssText,classes:e.className,pointerEvents:getComputedStyle(e).pointerEvents})})},2e3),console.log("[DEBUG] DOMContentLoaded setup completed")});console.log("[DEBUG] DOMContentLoaded listener attached");function U(){const e=JSON.parse(localStorage.getItem("slimmerAICart")||"[]").reduce((s,c)=>s+c.quantity,0);console.log("[updateAllCartCounts] Updating cart count to:",e);const l=document.getElementById("unified-cart-count");l&&(l.textContent=e,e>0?l.classList.add("visible"):l.classList.remove("visible"),console.log("[updateAllCartCounts] Updated unified cart count"));const n=document.querySelectorAll(".cart-count");n.forEach(s=>{s.textContent=e,e>0?s.classList.add("visible"):s.classList.remove("visible")}),console.log("[updateAllCartCounts] Updated",n.length,"cart-count elements"),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{count:e}}))}console.log("[DEBUG] Main.js file execution completed");
